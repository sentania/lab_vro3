<?xml version='1.0' encoding='UTF-8'?>
<dunes-script-module name="getVcacHost" result-type="vCAC:VCACHost" api-version="6.0.0" id="5ba9c6a2-f969-4e6f-acca-3bc51498a35e" version="0.0.0" allowed-operations="evf" category-name="com.nm.ucp">
  <param n="hostString" t="string"><![CDATA[Name of attribute in ConfigElement for vCAC:VCACHost]]></param>
  <script encoded="false"><![CDATA[// 2. Find vCAC:VCACHost from Config Element
// 2.1 Get ConfigElement values
var vraElement = [];
var ConfigElCategory = Server.getConfigurationElementCategoryWithPath("UCP");
System.log(ConfigElCategory.name);
var configEls = ConfigElCategory.allConfigurationElements;
for(element in configEls) {
	if(configEls[element].name == "vRA") {
	vraElement = configEls[element];
	System.log("vRA Elements: "+vraElement.name);
	}
}

// 2.1.2 Get vCAC Host
var vcacHost;
if(vraElement.getAttributeWithKey(hostString) != null) {
	attribute = vraElement.getAttributeWithKey(hostString);
	vcacHost = attribute.value;
	System.log(vcacHost.name);
}
return vcacHost;]]></script>
</dunes-script-module>