<?xml version='1.0' encoding='UTF-8'?>
<dunes-script-module name="returnLocationEdges" result-type="NSX:Edge" api-version="6.0.0" id="36bdef8d-8cad-4389-9f87-45b716d31eba" version="0.0.0" allowed-operations="vfe" category-name="com.nm.ucp.nsx">
  <param n="location" t="string"><![CDATA[Datacenter Location]]></param>
  <script encoded="false"><![CDATA[var edgeName = location+"Edge";

// 1. Find edge from Config Element
	// 1.1 Get ConfigElement values
	var nsxElement = [];
	var ConfigElCategory = Server.getConfigurationElementCategoryWithPath("UCP");
	System.log(ConfigElCategory.name);
	var configEls = ConfigElCategory.allConfigurationElements;
	for(element in configEls) {
		if(configEls[element].name == "NSX") {
		nsxElement = configEls[element];
		System.log("NSX Elements: "+nsxElement.name);
		}
	}

	// 1.2 Get Edge
	var edge;
	if(nsxElement.getAttributeWithKey(edgeName) != null) {
		attribute = nsxElement.getAttributeWithKey(edgeName);
		edge = attribute.value;
		System.log(edge.name);
	}

return edge;]]></script>
</dunes-script-module>