<?xml version='1.0' encoding='UTF-8'?>
<dunes-script-module name="updateVroWorkflowTokenName" result-type="void" api-version="6.0.0" id="5ff6bba3-ab50-4300-9ea0-47cbe0dfad10" version="0.0.0" allowed-operations="evf" category-name="com.sovlabs.vra.utilities">
  <param n="properties" t="string"/>
  <script encoded="false"><![CDATA[if (properties !== "" && properties !== null && properties !== undefined) {
	try {
		var propertiesJson = JSON.parse(properties);
		
		var name = "";
		
		if (propertiesJson.Hostname) {
			name = propertiesJson.Hostname;
			
			if (propertiesJson.catalogItemRequest && propertiesJson.catalogItemRequest.number) {
				name = name + " - " + propertiesJson.catalogItemRequest.number;
			}
			
			sovlabsWorkflow.renameWorkflowToken(workflow, name); 
		}
	} catch (e) {
		System.error("Unable to rename vRO workflow token - ERROR: " + e);
	}
}]]></script>
</dunes-script-module>