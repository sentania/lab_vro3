<?xml version='1.0' encoding='UTF-8'?>
<dunes-script-module name="getIaasHostFromVmEntity" result-type="vCAC:VCACHost" api-version="6.0.0" id="1fa77f0e-177e-44cf-b288-3c8d45923862" version="0.0.1" allowed-operations="evf" category-name="com.sovlabs.vra.utilities">
  <param n="iaasVmEntity" t="vCAC:Entity"/>
  <script encoded="false"><![CDATA[if (iaasVmEntity == null) {
	throw "virtualMachineEntity not supplied";
}

var host = Server.findForType("vCAC:VCACHost", iaasVmEntity.hostId);

if (host == null) {
	throw "Unable to find vRA IaaS host from VM entity: " + iaasVmEntity;
}

return host;]]></script>
</dunes-script-module>